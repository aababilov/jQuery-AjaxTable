/**
 * Copyright 2011 Ivan Kolodyazhny (e0ne)
 * All Rights Reserved.
 *
 *    Licensed under the Apache License, Version 2.0 (the "License"); you may
 *    not use this file except in compliance with the License. You may obtain
 *    a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 *    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 *    License for the specific language governing permissions and limitations
 *    under the License.
 */

(function(c){var d={init:function(a){function d(){b.beforeUpdate&&b.beforeUpdate();f.each(function(){var a=this;c.get(e.url,function(b){var d=c(a).children("tbody");d.html("");c("#"+e.template).tmpl(b).appendTo(d)})});b.afterUpdate&&b.afterUpdate()}var e={template:"ajax_table_template",url:"",interval:5E3,beforeUpdate:null,afterUpdate:null};a&&c.extend(e,a);var a=c(this),b=a.data("ajaxTable");b||(c(this).data("ajaxTable",{timers:{},beforeUpdate:e.beforeUpdate,afterUpdate:e.afterUpdate}),b=a.data("ajaxTable"));
var f=this;d();b.timers[this.selector]||(b.timers[this.selector]=window.setInterval(d,e.interval))},stop:function(){var a=c(this).data("ajaxTable");a&&(window.clearInterval(a.timers[this.selector]),a.timers[this.selector]=null)}};c.fn.ajaxTable=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return d.init.apply(this,arguments);else c.error("Method "+a+" does not exist on jQuery.tooltip")}})(jQuery);